<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  </head>
  <body>
    {% include "components/navbar.html.jinja"%}

     <main class="max-w-7xl mx-auto px-6 py-10">
    <h1 class="text-2xl font-bold mb-6">Checkout</h1>

    {% if cart %}
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">

        <!-- LEFT: PRODUCTS -->
        <section class="lg:col-span-3 space-y-4">

            {% for x in cart %}
            <div class="flex gap-4 border rounded-xl p-4 bg-white">
                <a href="/product/{{ x['ProductID'] }}">
                    <img
                        src="{{ x['Image'] }}"
                        alt="{{ x['Name'] }}"
                        class="w-32 h-32 object-cover rounded"
                    >
                </a>

                <div class="flex-1">
                    <a href="/product/{{ x['ProductID'] }}" class="font-semibold">
                        {{ x['Name'] }}
                    </a>

                    <p class="text-sm text-gray-500 mt-1">
                        Quantity: {{ x['Quantity'] }}
                    </p>
                </div>

                <div class="font-semibold">
                    ${{ "%.2f"|format(x['Price'] * x['Quantity']) }}
                </div>
            </div>
            {% endfor %}

        </section>

        <!-- RIGHT: SHIPPING + TOTAL -->
        <aside class="lg:col-span-1 bg-gray-50 border p-5 h-fit sticky top-6">

            <h2 class="font-semibold text-lg mb-4">Shipping Details</h2>

            <form method="post" class="space-y-3">

                <input
                    type="text"
                    name="name"
                    value="{{ user['Name']}}"
                    class="w-full border rounded px-3 py-2"
                    placeholder="Full Name"
                    required
                >

                <input
                    type="email"
                    name="email"
                    value="{{ user['Email'] }}"
                    class="w-full border rounded px-3 py-2"
                    placeholder="Email"
                    required
                >

                <input
                    type="text"
                    name="address"
                    value="{{ user['Address'] }}"
                    class="w-full border rounded px-3 py-2"
                    placeholder="Address"
                    required
                >

                <input
                    type="text"
                    name="city"
                    value="{{ user['City'] }}"
                    class="w-full border rounded px-3 py-2"
                    placeholder="City"
                    required
                >

                <input
                    type="text"
                    name="zip"
                    value="{{ user['Zip'] }}"
                    class="w-full border rounded px-3 py-2"
                    placeholder="ZIP Code"
                    required
                >

                <hr class="my-3">

                <div class="flex justify-between font-semibold">
                    <span>Subtotal</span>
                    <span>${{ "%.2f"|format(subtotal) }}</span>
                </div>

                <button
                    type="submit"
                    class="w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg"
                >
                    Place your Order
                </button>

            </form>
        </aside>

    </div>
    {% endif %}
</main>
                  
    </body>
</html>